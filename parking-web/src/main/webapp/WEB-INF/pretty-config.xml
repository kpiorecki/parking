<pretty-config xmlns="http://ocpsoft.com/prettyfaces/3.2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://ocpsoft.com/prettyfaces/3.2.0
                                   		http://ocpsoft.com/xml/ns/prettyfaces/ocpsoft-pretty-faces-3.2.0.xsd">

	<!-- remove trailing slashes -->
	<rewrite trailingSlash="remove" redirect="301" />

	<!-- public pages -->
	<url-mapping id="login">
		<pattern value="/login" />
		<view-id value="/WEB-INF/view/login.xhtml" />
	</url-mapping>

	<url-mapping id="logout">
		<pattern value="/logout" />
		<view-id value="/WEB-INF/view/logout.xhtml" />
	</url-mapping>

	<url-mapping id="index">
		<pattern value="/" />
		<view-id value="/WEB-INF/view/index.xhtml" />
	</url-mapping>

	<url-mapping id="activation">
		<pattern value="/activation/#{encodedActivationUuid : activationController.encodedActivationUuid}" />
		<view-id value="/WEB-INF/view/activation.xhtml" />
		<action onPostback="false">#{activationController.activate}</action>
	</url-mapping>

	<url-mapping id="forgot-password">
		<pattern value="/forgot-password" />
		<view-id value="/WEB-INF/view/forgot-password.xhtml" />
	</url-mapping>
	
	<url-mapping id="reset-password">
		<pattern value="/reset-password/#{encodedResetPasswordUuid : resetPasswordController.encodedResetPasswordUuid}" />
		<view-id value="/WEB-INF/view/reset-password.xhtml" />
		<action onPostback="false">#{resetPasswordController.processResetRequest}</action>
	</url-mapping>
	
	<!-- user pages -->
	<url-mapping id="user-home">
		<pattern value="/user" />
		<view-id value="/WEB-INF/view/user/home.xhtml" />
	</url-mapping>

	<url-mapping id="user-booking">
		<pattern
			value="/user/booking/#{parkingName : bookingController.parkingName}/#{year : bookingController.year}/#{month : bookingController.month}">
			<validate index="1" validator="#{bookingController.validateYear}" />
			<validate index="2" validator="#{bookingController.validateMonth}" />
		</pattern>
		<view-id value="/WEB-INF/view/user/booking.xhtml" />
		<action onPostback="false">#{bookingController.loadUserBookings}</action>
	</url-mapping>

	<url-mapping id="user-parking">
		<pattern value="/user/parking" />
		<view-id value="/WEB-INF/view/user/parking.xhtml" />
	</url-mapping>

	<url-mapping id="user-account">
		<pattern value="/user/account" />
		<view-id value="/WEB-INF/view/user/account.xhtml" />
	</url-mapping>

	<url-mapping id="user-password">
		<pattern value="/user/password" />
		<view-id value="/WEB-INF/view/user/password.xhtml" />
	</url-mapping>

	<!-- admin pages -->
	<url-mapping id="admin-home">
		<pattern value="/admin" />
		<view-id value="/WEB-INF/view/admin/home.xhtml" />
	</url-mapping>

</pretty-config>